# OpsSightAI - Architecture Overview

**Date**: February 8, 2026  
**Version**: 1.0.0

---

## ðŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Internet / Users                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GCP Load Balancer (Ingress)                   â”‚
â”‚                    - Path-based routing                          â”‚
â”‚                    - SSL/TLS termination                         â”‚
â”‚                    - Health checks                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                            â”‚
        / (root) â”‚                            â”‚ /api
                 â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend (React + Nginx) â”‚  â”‚   Backend (Node.js + Express)  â”‚
â”‚   - 2-10 replicas          â”‚  â”‚   - 3-20 replicas              â”‚
â”‚   - Auto-scaling           â”‚  â”‚   - Auto-scaling               â”‚
â”‚   - Static assets          â”‚  â”‚   - REST API                   â”‚
â”‚   - API proxy              â”‚  â”‚   - Business logic             â”‚
â”‚   - Health checks          â”‚  â”‚   - Authentication             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   Database (TimescaleDB)        â”‚
                                â”‚   - 1 replica (StatefulSet)     â”‚
                                â”‚   - Persistent storage (20-50GB)â”‚
                                â”‚   - Automated backups           â”‚
                                â”‚   - Time-series optimization    â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”§ Component Details

### Frontend (React + TypeScript + Vite)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Frontend Container            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Nginx (Alpine)                         â”‚
â”‚  â”œâ”€â”€ Static Files (React build)         â”‚
â”‚  â”œâ”€â”€ API Proxy (/api â†’ backend:4000)    â”‚
â”‚  â”œâ”€â”€ Gzip Compression                   â”‚
â”‚  â”œâ”€â”€ Security Headers                   â”‚
â”‚  â””â”€â”€ Health Check (/health)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Resources:                             â”‚
â”‚  - CPU: 100m-500m                       â”‚
â”‚  - Memory: 128Mi-512Mi                  â”‚
â”‚  - Replicas: 2-10 (auto-scaling)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Features**:
- Dashboard with 5 key metrics
- Asset list with search and sort
- Asset detail with maintenance info
- Anomaly timeline visualization
- Risk score charts
- Notification panel

### Backend (Node.js + Express + TypeScript)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Backend Container             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Node.js 18 (Alpine)                    â”‚
â”‚  â”œâ”€â”€ Express API Server                 â”‚
â”‚  â”œâ”€â”€ 18 REST Endpoints                  â”‚
â”‚  â”œâ”€â”€ JWT Authentication                 â”‚
â”‚  â”œâ”€â”€ Rate Limiting                      â”‚
â”‚  â”œâ”€â”€ Helmet Security                    â”‚
â”‚  â”œâ”€â”€ Winston Logging                    â”‚
â”‚  â””â”€â”€ Health Check (/health)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Resources:                             â”‚
â”‚  - CPU: 200m-2000m                      â”‚
â”‚  - Memory: 256Mi-2Gi                    â”‚
â”‚  - Replicas: 3-20 (auto-scaling)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Endpoints**:
- `/api/health` - Health check
- `/api/assets` - Asset management
- `/api/maintenance/technicians` - Technician management
- `/api/maintenance/schedules` - Schedule management
- `/api/maintenance/work-orders` - Work order management
- `/api/maintenance/history` - Maintenance history
- `/api/maintenance/recommendations` - AI recommendations
- `/api/anomalies` - Anomaly detection
- `/api/forecasts` - Predictive analytics
- `/api/notifications` - Notification system

### Database (TimescaleDB)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Database Container             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  TimescaleDB (PostgreSQL 15)            â”‚
â”‚  â”œâ”€â”€ 11 Maintenance Tables              â”‚
â”‚  â”œâ”€â”€ Time-series Optimization           â”‚
â”‚  â”œâ”€â”€ Automated Triggers                 â”‚
â”‚  â”œâ”€â”€ Persistent Storage (PVC)           â”‚
â”‚  â””â”€â”€ Health Check (pg_isready)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Resources:                             â”‚
â”‚  - CPU: 500m-4000m                      â”‚
â”‚  - Memory: 1Gi-8Gi                      â”‚
â”‚  - Storage: 20Gi-50Gi (persistent)      â”‚
â”‚  - Replicas: 1 (StatefulSet)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Database Schema**:
- `technicians` - Technician information
- `maintenance_schedules` - Scheduled maintenance
- `work_orders` - Work order tracking
- `maintenance_history` - Historical records
- `maintenance_recommendations` - AI-generated recommendations
- `uptime_events` - Uptime tracking
- `asset_metrics` - Performance metrics
- `asset_kpis` - Key performance indicators
- `asset_relationships` - Asset dependencies
- `asset_groups` - Asset grouping
- `asset_group_members` - Group membership

---

## ðŸŒ Network Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GKE Cluster (VPC)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Namespace: opssightai                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚  â”‚  Frontend Pods   â”‚  â”‚  Backend Pods    â”‚               â”‚ â”‚
â”‚  â”‚  â”‚  (2-10 replicas) â”‚  â”‚  (3-20 replicas) â”‚               â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â”‚           â”‚                     â”‚                          â”‚ â”‚
â”‚  â”‚           â–¼                     â–¼                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚  â”‚ Frontend Service â”‚  â”‚ Backend Service  â”‚               â”‚ â”‚
â”‚  â”‚  â”‚  ClusterIP:80    â”‚  â”‚  ClusterIP:4000  â”‚               â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â”‚           â”‚                     â”‚                          â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚ â”‚
â”‚  â”‚                      â”‚                                     â”‚ â”‚
â”‚  â”‚                      â–¼                                     â”‚ â”‚
â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚
â”‚  â”‚           â”‚   Ingress Resource   â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚  - Path routing      â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚  - Load balancing    â”‚                         â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚
â”‚  â”‚           â”‚   Database Pod       â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚   (StatefulSet)      â”‚                         â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                      â”‚                                     â”‚ â”‚
â”‚  â”‚                      â–¼                                     â”‚ â”‚
â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚
â”‚  â”‚           â”‚  Database Service    â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚  ClusterIP:5432      â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚  (Headless)          â”‚                         â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                      â”‚                                     â”‚ â”‚
â”‚  â”‚                      â–¼                                     â”‚ â”‚
â”‚  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚ â”‚
â”‚  â”‚           â”‚ Persistent Volume    â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚  (GCE Disk)          â”‚                         â”‚ â”‚
â”‚  â”‚           â”‚  20-50 GB            â”‚                         â”‚ â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Security Layers                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Layer 1: Network Security                                       â”‚
â”‚  â”œâ”€â”€ GCP Firewall Rules                                          â”‚
â”‚  â”œâ”€â”€ Network Policies (optional)                                 â”‚
â”‚  â””â”€â”€ Private VPC                                                 â”‚
â”‚                                                                  â”‚
â”‚  Layer 2: Ingress Security                                       â”‚
â”‚  â”œâ”€â”€ SSL/TLS Termination                                         â”‚
â”‚  â”œâ”€â”€ Rate Limiting                                               â”‚
â”‚  â””â”€â”€ DDoS Protection                                             â”‚
â”‚                                                                  â”‚
â”‚  Layer 3: Application Security                                   â”‚
â”‚  â”œâ”€â”€ Helmet.js Security Headers                                  â”‚
â”‚  â”œâ”€â”€ CORS Configuration                                          â”‚
â”‚  â”œâ”€â”€ JWT Authentication                                          â”‚
â”‚  â”œâ”€â”€ Input Validation                                            â”‚
â”‚  â””â”€â”€ Rate Limiting                                               â”‚
â”‚                                                                  â”‚
â”‚  Layer 4: Container Security                                     â”‚
â”‚  â”œâ”€â”€ Non-root User (UID 1000)                                    â”‚
â”‚  â”œâ”€â”€ Read-only Root Filesystem                                   â”‚
â”‚  â”œâ”€â”€ Dropped Capabilities                                        â”‚
â”‚  â””â”€â”€ Security Context Constraints                                â”‚
â”‚                                                                  â”‚
â”‚  Layer 5: Kubernetes Security                                    â”‚
â”‚  â”œâ”€â”€ Pod Security Standards (restricted)                         â”‚
â”‚  â”œâ”€â”€ RBAC (Role-Based Access Control)                            â”‚
â”‚  â”œâ”€â”€ Secrets Management                                          â”‚
â”‚  â””â”€â”€ Network Policies                                            â”‚
â”‚                                                                  â”‚
â”‚  Layer 6: Data Security                                          â”‚
â”‚  â”œâ”€â”€ Encrypted Secrets (base64)                                  â”‚
â”‚  â”œâ”€â”€ Password Hashing (bcrypt)                                   â”‚
â”‚  â”œâ”€â”€ Encrypted Storage (GCE Disk)                                â”‚
â”‚  â””â”€â”€ Backup Encryption                                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Data Flow

### User Request Flow
```
1. User â†’ Load Balancer
   â”œâ”€â”€ Path: / â†’ Frontend Service â†’ Frontend Pod
   â”‚   â””â”€â”€ Nginx serves static React app
   â”‚
   â””â”€â”€ Path: /api â†’ Backend Service â†’ Backend Pod
       â””â”€â”€ Express API processes request
           â””â”€â”€ Database query â†’ TimescaleDB
               â””â”€â”€ Response â†’ Backend â†’ Frontend â†’ User
```

### Asset Management Flow
```
1. User views asset list
   â””â”€â”€ GET /api/assets
       â””â”€â”€ Backend: assetService.getAssets()
           â””â”€â”€ Database: SELECT * FROM assets
               â””â”€â”€ Response: Asset list with maintenance status

2. User views asset detail
   â””â”€â”€ GET /api/assets/:id
       â””â”€â”€ Backend: assetService.getAssetById(id)
           â””â”€â”€ Database: JOIN assets, maintenance_schedules, work_orders
               â””â”€â”€ Response: Asset detail with maintenance info

3. User creates work order
   â””â”€â”€ POST /api/maintenance/work-orders
       â””â”€â”€ Backend: maintenanceService.createWorkOrder()
           â””â”€â”€ Database: INSERT INTO work_orders
               â””â”€â”€ Trigger: Auto-generate work order number
                   â””â”€â”€ Response: Work order created
```

### Maintenance Workflow
```
1. Schedule Maintenance
   â””â”€â”€ POST /api/maintenance/schedules
       â””â”€â”€ Create schedule record
           â””â”€â”€ Set next_due_date
               â””â”€â”€ Assign technician

2. Generate Work Order
   â””â”€â”€ POST /api/maintenance/work-orders
       â””â”€â”€ Auto-generate WO number (WO-YYYYMMDD-XXXXX)
           â””â”€â”€ Link to schedule
               â””â”€â”€ Assign technician

3. Complete Work Order
   â””â”€â”€ PUT /api/maintenance/work-orders/:id
       â””â”€â”€ Update status to 'completed'
           â””â”€â”€ Record completion_date
               â””â”€â”€ Create maintenance_history record
                   â””â”€â”€ Update asset last_maintenance_date
                       â””â”€â”€ Calculate next_due_date
```

---

## ðŸ”„ Scaling Architecture

### Horizontal Pod Autoscaling (HPA)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Auto-scaling Configuration                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Frontend HPA:                                                   â”‚
â”‚  â”œâ”€â”€ Min Replicas: 2 (default) / 3 (production)                 â”‚
â”‚  â”œâ”€â”€ Max Replicas: 10                                           â”‚
â”‚  â”œâ”€â”€ Target CPU: 70%                                            â”‚
â”‚  â””â”€â”€ Target Memory: 80%                                         â”‚
â”‚                                                                  â”‚
â”‚  Backend HPA:                                                    â”‚
â”‚  â”œâ”€â”€ Min Replicas: 3 (default) / 5 (production)                 â”‚
â”‚  â”œâ”€â”€ Max Replicas: 20                                           â”‚
â”‚  â”œâ”€â”€ Target CPU: 70%                                            â”‚
â”‚  â””â”€â”€ Target Memory: 80%                                         â”‚
â”‚                                                                  â”‚
â”‚  Scaling Behavior:                                               â”‚
â”‚  â”œâ”€â”€ Scale Up: When CPU/Memory > target for 30s                 â”‚
â”‚  â”œâ”€â”€ Scale Down: When CPU/Memory < target for 5m                â”‚
â”‚  â””â”€â”€ Cooldown: 3m between scale operations                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Cluster Autoscaling
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GKE Cluster Autoscaling                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Node Pool Configuration:                                        â”‚
â”‚  â”œâ”€â”€ Min Nodes: 2 (staging) / 3 (production)                    â”‚
â”‚  â”œâ”€â”€ Max Nodes: 10                                              â”‚
â”‚  â”œâ”€â”€ Machine Type: n1-standard-2 (default)                      â”‚
â”‚  â”‚                 n1-standard-4 (production)                   â”‚
â”‚  â””â”€â”€ Auto-repair: Enabled                                       â”‚
â”‚                                                                  â”‚
â”‚  Scaling Triggers:                                               â”‚
â”‚  â”œâ”€â”€ Pending pods (insufficient resources)                      â”‚
â”‚  â”œâ”€â”€ Node utilization > 80%                                     â”‚
â”‚  â””â”€â”€ Scale down when utilization < 50% for 10m                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Monitoring Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Monitoring Stack                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Application Metrics                      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  - Health Checks (liveness, readiness)                     â”‚ â”‚
â”‚  â”‚  - Request Rate (requests/sec)                             â”‚ â”‚
â”‚  â”‚  - Response Time (p50, p95, p99)                           â”‚ â”‚
â”‚  â”‚  - Error Rate (4xx, 5xx)                                   â”‚ â”‚
â”‚  â”‚  - Database Connections                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   Infrastructure Metrics                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  - CPU Usage (per pod, per node)                           â”‚ â”‚
â”‚  â”‚  - Memory Usage (per pod, per node)                        â”‚ â”‚
â”‚  â”‚  - Disk Usage (database)                                   â”‚ â”‚
â”‚  â”‚  - Network I/O                                             â”‚ â”‚
â”‚  â”‚  - Pod Restarts                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Logging                                â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  - Application Logs (Winston)                              â”‚ â”‚
â”‚  â”‚  - Access Logs (Nginx)                                     â”‚ â”‚
â”‚  â”‚  - Database Logs (PostgreSQL)                              â”‚ â”‚
â”‚  â”‚  - Kubernetes Events                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   Optional: Prometheus                      â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  - Metrics Collection                                       â”‚ â”‚
â”‚  â”‚  - Service Monitors                                        â”‚ â”‚
â”‚  â”‚  - Alerting Rules                                          â”‚ â”‚
â”‚  â”‚  - Grafana Dashboards                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ’¾ Backup & Recovery

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backup Strategy                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Database Backups:                                               â”‚
â”‚  â”œâ”€â”€ Method: pg_dump / GCE Disk Snapshots                       â”‚
â”‚  â”œâ”€â”€ Frequency: Daily (automated)                               â”‚
â”‚  â”œâ”€â”€ Retention: 30 days                                         â”‚
â”‚  â””â”€â”€ Storage: GCS Bucket (encrypted)                            â”‚
â”‚                                                                  â”‚
â”‚  Disaster Recovery:                                              â”‚
â”‚  â”œâ”€â”€ RTO (Recovery Time Objective): 1 hour                      â”‚
â”‚  â”œâ”€â”€ RPO (Recovery Point Objective): 24 hours                   â”‚
â”‚  â””â”€â”€ Procedure: Restore from snapshot + replay WAL              â”‚
â”‚                                                                  â”‚
â”‚  High Availability (Future):                                     â”‚
â”‚  â”œâ”€â”€ Multi-region deployment                                    â”‚
â”‚  â”œâ”€â”€ Database replication                                       â”‚
â”‚  â””â”€â”€ Automated failover                                         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš€ Deployment Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CI/CD Pipeline                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Code Commit (GitHub)                                         â”‚
â”‚     â””â”€â”€ Push to main branch                                     â”‚
â”‚                                                                  â”‚
â”‚  2. Build (GitHub Actions)                                       â”‚
â”‚     â”œâ”€â”€ Run tests                                               â”‚
â”‚     â”œâ”€â”€ Build Docker images                                     â”‚
â”‚     â””â”€â”€ Push to GCR                                             â”‚
â”‚                                                                  â”‚
â”‚  3. Deploy (Helm)                                                â”‚
â”‚     â”œâ”€â”€ Update image tags                                       â”‚
â”‚     â”œâ”€â”€ Apply Helm upgrade                                      â”‚
â”‚     â””â”€â”€ Wait for rollout                                        â”‚
â”‚                                                                  â”‚
â”‚  4. Verify                                                       â”‚
â”‚     â”œâ”€â”€ Health checks                                           â”‚
â”‚     â”œâ”€â”€ Smoke tests                                             â”‚
â”‚     â””â”€â”€ Rollback if failed                                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“ˆ Performance Characteristics

### Response Times (Target)
- **Frontend**: < 100ms (static assets)
- **Backend API**: < 200ms (simple queries)
- **Backend API**: < 500ms (complex queries)
- **Database**: < 50ms (indexed queries)

### Throughput (Target)
- **Frontend**: 1000 req/sec per pod
- **Backend**: 500 req/sec per pod
- **Database**: 1000 queries/sec

### Availability (Target)
- **SLA**: 99.9% uptime (8.76 hours downtime/year)
- **RTO**: 1 hour
- **RPO**: 24 hours

---

## ðŸŽ¯ Future Enhancements

### Phase 2: Advanced Features
- [ ] Real-time WebSocket updates
- [ ] Advanced analytics dashboard
- [ ] Machine learning predictions
- [ ] Mobile app support

### Phase 3: Enterprise Features
- [ ] Multi-tenancy support
- [ ] Advanced RBAC
- [ ] Audit logging
- [ ] Compliance reporting

### Phase 4: Scale & Performance
- [ ] Multi-region deployment
- [ ] Database sharding
- [ ] CDN integration
- [ ] Edge caching

---

**Architecture Version**: 1.0.0  
**Last Updated**: February 8, 2026  
**Status**: Production Ready

